DROP DATABASE IF EXISTS `BANK`;
CREATE DATABASE `BANK`;
USE `BANK`;

DROP TABLE IF EXISTS `USER`;
CREATE TABLE `USER` (
  `IDUSER` NVARCHAR(10) NOT NULL,
  `PASSWORD` NVARCHAR(20) NOT NULL,
  `NAME` NVARCHAR(40) NOT NULL,
  `PHONENUMBER` NVARCHAR(11) NOT NULL,
  `EMAIL` NVARCHAR(30) NOT NULL,
  `TYPE` INT DEFAULT 0,
  PRIMARY KEY (`IDUSER`)
) ENGINE=MyISAM DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

DROP TABLE IF EXISTS `ACCOUNTBANK`;
CREATE TABLE `ACCOUNTBANK` (
	`NUMBERACCOUNT` NVARCHAR(15) NOT NULL,
	`IDUSER` NVARCHAR(10) NOT NULL,
    `BALANCE` DOUBLE DEFAULT 0,
    `OPENDAY` NVARCHAR(18),
    PRIMARY KEY (`NUMBERACCOUNT`)
) ENGINE=MyISAM DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

DROP TABLE IF EXISTS `TRANSACTION`;
CREATE TABLE `TRANSACTION` (
	`ACCOUNTSOURCE` NVARCHAR(15) NOT NULL,
    `ACCOUNTDESTINY` NVARCHAR(15) NOT NULL,
    `AMOUNT` DOUBLE,
    `TIME` NVARCHAR(20),
    PRIMARY KEY (`ACCOUNTSOURCE`, `ACCOUNTDESTINY`, `TIME`)
) ENGINE=MyISAM DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

DROP TABLE IF EXISTS `TOKENUSER`;
CREATE TABLE `TOKENUSER` (
	`USERNAME` NVARCHAR(10) NOT NULL,
    `RFTOKEN` NVARCHAR(20) NOT NULL,
    `DATETIME` DATETIME NOT NULL,
    PRIMARY KEY (`USERNAME`, `RFTOKEN`)
) ENGINE=MyISAM DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

-- Inser data
INSERT INTO `USER` VALUES ('user1', '123', N'Trần Nhựt Cường 1', '0909757632', 'tncuong2610@gmail.com', 0);
INSERT INTO `USER` VALUES ('user2', '123', N'Trần Nhựt Cường 2', '0909757632', 'tncuong2610@gmail.com', 0);
INSERT INTO `USER` VALUES ('staff1', '123', N'Trần Nhựt Cường 3', '0909757632', 'tncuong2610@gmail.com', 1);
INSERT INTO `USER` VALUES ('staff2', '123', N'Trần Nhựt Cường 4', '0909757632', 'tncuong2610@gmail.com', 1);
INSERT INTO `USER` VALUES ('manage1', '123', N'Trần Nhựt Cường 5', '0909757632', 'tncuong2610@gmail.com', 2);
INSERT INTO `USER` VALUES ('mange2', '123', N'Trần Nhựt Cường 6', '0909757632', 'tncuong2610@gmail.com', 2);

insert into accountbank values('124658421453687', 'user1', 0, '1/1/2019  11:47 am');
insert into accountbank values('124578421123687', 'user1', 10000000, '1/1/2019  11:47 am');
insert into accountbank values('124578421456687', 'user1', 0, '1/1/2019  11:47 am');
insert into accountbank values('124578421789687', 'user1', 10000000, '1/1/2019  11:47 am');
insert into accountbank values('124578421101687', 'user2', 10000000, '1/1/2019  11:47 am');
insert into accountbank values('124578421128687', 'user2', 5000, '1/1/2019  11:47 am');

